<div id="{{level.id}}" class="robot-node-section">

  <div class="header header-color">
    <h2>branch {{level.id}}</h2>
    <svg style="width: 100%; height: 100%;" id="svg{{level.id}}">
      <defs>
        <marker id="triangle" viewBox="0 0 10 10"
                refX="6" refY="5"
                markerUnits="strokeWidth"
                markerWidth="10" markerHeight="10"
                orient="auto">
          <path d="M 0 0 L 10 5 L 0 10 z" fill="black"/>
        </marker>
      </defs>
    </svg>

    <a mat-flat-button (click)="jumpToNode()" style="background-color: inherit;" class="screen"><h2>{{getLevelPath()}}</h2></a>
    <a mat-flat-button [href]="'#'+level.parent" style="background-color: inherit;" class="print"><h2>{{getLevelPath()}}</h2></a>

    <section
      *ngIf="level.comment"
      class="comment"
    >
      {{level.comment}}
    </section>
  </div>

  <mat-divider></mat-divider>

  <div style="width: 100%" fxLayout="row" fxLayoutAlign="center">
    <div class="table">
      <div class="row">
        <div class="header-cell" style="width: 5%">Id</div>
        <div class="header-cell" style="width: 35%">Name</div>
        <div class="header-cell" style="width: 60%">Comment</div>
      </div>

      <ng-container *ngFor="let row of getRowIndexes()"><ng-container *ngFor="let col of getColumnIndexes();"><ng-container *ngIf="getRobot(row, col)">
        <div class="row"
             (mouseover)="highlightStep(getRobot(row, col).id, true)"
             (mouseout)="highlightStep(getRobot(row, col).id, false)"
             [style.background-color]="highlightedId === getRobot(row, col).id || drawing?.highlightedStepId === getRobot(row, col).id ? '#e6e6e6' : 'white'"
        >
          <div class="content-cell title">{{getRobot(row, col).id}}</div>
          <div class="content-cell">
            <div class="title">{{getRobot(row, col).name}}</div>
            <div
              class="subtitle subtitle-color"
              fxLayoutAlign="end"
            >{{getRobot(row, col).type}}</div>
            <mat-icon [style.margin]="'8px'">{{getIconName(getRobot(row, col).type)}}</mat-icon>
          </div>
          <div class="content-cell"><div class="comment">{{getRobot(row, col).comment}}</div></div>
        </div>
      </ng-container></ng-container></ng-container>
    </div>
  </div>

  <mat-divider></mat-divider>
</div>
